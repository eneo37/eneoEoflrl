<!DOCTYPE html>
<html>
  <head>
    <title>나의 첫 웹페이지</title>
    <style>
      a#logo-link {
        position: absolute;
        top: 30px;
        left: 30px;
        z-index: 1000; /* 다른 요소보다 위에 보이도록 */
      }
      /* 게시판 스타일 */
      #board {
        max-width: 600px;
        margin: 20px auto;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #f9f9f9;
        font-family: Arial, sans-serif;
      }
      #board input, #board textarea {
        width: 100%;
        padding: 8px;
        margin: 6px 0;
        box-sizing: border-box;
        font-size: 14px;
      }
      #board button {
        padding: 8px 16px;
        font-size: 16px;
        cursor: pointer;
      }
      .post {
        border-bottom: 1px solid #ddd;
        padding: 10px 0;
      }
      .post h3 {
        margin: 0 0 5px 0;
      }
    </style>

    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-firestore.js"></script>
  </head>
  <body style="background-color: rgb(255,255,255);">
    <h1 style="text-align: center;">기뮨뎌!</h1>
    <form action="https://www.google.com/search" method="GET" target="_blank" style="text-align: center;">
      <input type="text" name="q" placeholder="구글에서 검색" style="width: 300px; padding: 8px;">
      <button type="submit" style="padding: 8px 16px;">검색</button>
    </form>
    
    <a href="https://www.naver.com" target="_blank" rel="noopener noreferrer">
      <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMjA2MTdfMTAg%2FMDAxNjU1NDUxNjA3MjA3.zMcv3h7lw21iYaPoHIqfQYoHnMUslzS3aA-dMnE9PcYg.qizMEP2o9XMfW1zVE3Z91fh4KAC-2d34zgkrMzGBthog.PNG.symentor%2F%25B3%25D7%25C0%25CC%25B9%25F6-%25B7%25CE%25B0%25ED-%25B0%25ED%25C8%25AD%25C1%25FA.png&type=sc960_832" alt="네이버 바로가기" width="300">
    </a>
    
    <a href="https://www.youtube.com" target="_blank" rel="noopener noreferrer">
      <img src="https://blog.kakaocdn.net/dn/c2yJ7I/btqwXeUM6jI/a3WrMGPo9vakaDzQWepkOK/img.jpg" alt="유튜브 바로가기" width="300">
    </a>
    
    <a href="https://www.instagram.com" target="_blank" rel="noopener noreferrer">
      <img src="https://tse1.mm.bing.net/th/id/OIP.pGxzS8SBfcXKMfJ8CfhlVwHaHa?pid=Api&P=0&h=220" alt="인스타 바로가기" width="150">
    </a>
    
    <a id="logo-link" href="index.html">
      <img src="logo.png" alt="로고" style="width:200px; height:auto;">
    </a>
    <a href="otherpage.html" style="position: absolute; top: 100px; right: 500px;">
      <button>다른 페이지로 이동</button>
    </a>

    <!-- 게시판 영역 -->
    <div id="board">
      <h2>게시판</h2>
      <input id="title" placeholder="제목을 입력하세요" />
      <textarea id="content" placeholder="내용을 입력하세요" rows="5"></textarea>
      <button onclick="savePost()">글 저장</button>

      <h3>글 목록</h3>
      <div id="posts"></div>
    </div>

    <script>
      // Firebase 설정
      const firebaseConfig = {
        apiKey: "AIzaSyA33Sih8DgMpA5T4x2_jq42P2vVVizsS3s",
        authDomain: "eneo-fa533.firebaseapp.com",
        projectId: "eneo-fa533",
        storageBucket: "eneo-fa533.firebasestorage.app",
        messagingSenderId: "444724118614",
        appId: "1:444724118614:web:ee7e313326838e803267f7",
        measurementId: "G-JEG9QQP86S"
      };

      // Firebase 초기화
      const app = firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

      // 글 저장 함수
      function savePost() {
        const title = document.getElementById("title").value.trim();
        const content = document.getElementById("content").value.trim();
        if (!title || !content) {
          alert("제목과 내용을 모두 입력하세요.");
          return;
        }

        db.collection("posts").add({
          title: title,
          content: content,
          date: new Date()
        }).then(() => {
          // 저장 성공 후 입력칸 비우기
          document.getElementById("title").value = "";
          document.getElementById("content").value = "";
        }).catch(error => {
          alert("저장 중 오류가 발생했습니다: " + error.message);
        });
      }

      // 글 목록 불러오기 (실시간 업데이트)
      db.collection("posts").orderBy("date", "desc").onSnapshot(snapshot => {
        const postsDiv = document.getElementById("posts");
        postsDiv.innerHTML = "";
        snapshot.forEach(doc => {
          const post = doc.data();
          const postElement = document.createElement("div");
          postElement.classList.add("post");
          postElement.innerHTML = `
            <h4>${post.title}</h4>
            <p>${post.content}</p>
          `;
          postsDiv.appendChild(postElement);
        });
      });
    </script>
  </body>
</html>
